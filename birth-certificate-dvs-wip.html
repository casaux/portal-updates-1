<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">

    <title>myCASA</title>

    <link rel="stylesheet" href="furnace.min.css">
    <link rel="stylesheet" href="lead.css">
    <link rel="stylesheet" href="forms.css">
    <script type="text/javascript" src="furnace.min.js"></script>
    <script src="jquery.min.js"></script>
    <script src="jquery.js"></script>
    <script src="moment.js"></script>

</head>

<body class="live-demo au-body au-grid arn-application">

    <main class="au-grid">

        <div class="header">
            <div class="container">
                <div class="row">
                    <div class="logo au-body au-body--dark">
                        <a href="../index.html"><img src="CASALOGO-white-i.svg" width="256"></a>
                    </div>
                    <div class="user">
                        <div class="au-body au-body--dark">
                            <a class="au-btn au-btn--dark" href="../signed-out.html">Sign out</a></div>
                    </div>

                </div>
            </div>
        </div>
        <div class="banner">
            <div class=container>
                <style>
                    .banner {
                        padding-left: 25px;
                    }
                    
                    .banner {
                        padding-top: 10px;
                    }
                    
                    .banner {
                        padding-bottom: 10px;
                    }
                    
                    .input-state {
                        display: none;
                    }
                    
                    #validate {
                        display: none;
                    }
                    
                    .form-sub-input {
                        margin-left: 2.5em;
                    }
					.panel .form-sub-input{
						opacity:0.5;
					}
					.panel.active .form-sub-input{
						opacity:1;
					}
                </style>
                This service is currently in beta, we encourage you to <a href="feedback.html">provide feedback</a>
            </div>
        </div>

        <div class="body">
            <div class="container">

                <div class="col-xs-6">

                    <nav class="au-breadcrumbs" aria-label="breadcrumb">
                        <ul class="au-link-list au-link-list--inline">
                            <li><a href="welcome.html">myCASA</a></li>
                            <li>ARN application</li>
                        </ul>
                    </nav>

                    <header class="au-header padding-bottom-1x" role="banner">
                        <h1 class="au-header-heading">Australian Birth Certificate</h1>
                        <a class="au-direction-link au-direction-link--left" href="arn4.html">Back</a>
                    </header>

                    <label for="given-name-input">Given names</label>
                    <div class="form-text">Please enter all given names as written on your birth certificate, including any middle names</div>
                    <input class="au-text-input au-text-input--block" name="given-name-input" id="given-name-input" type="text" value="">
                    <br>

                    <label for="family-name-input">Family name</label>
                    <input class="au-text-input au-text-input--block" name="family-name-input" id="family-name-input" type="text" value="">
                    <br>

                    <div class="form-section date-entry">
                        <p class="label">Date of birth</p>
                        <div class="form-text">For example, 31 01 1980</div>

                        <div class="date date-day">
                            <label for="text-input-block1" class="form-text">Day</label>
                            <input class="au-text-input au-text-input--block" name="text-input-block" placeholder="DD" id="text-input-block1" type="text" value="">
                        </div>
                        <div class="date date-month">
                            <label for="text-input-block2" class="form-text">Month</label>
                            <input class="au-text-input au-text-input--block" name="text-input-block" placeholder="MM" id="text-input-block2" type="text" value="">
                        </div>
                        <div class="date date-year">
                            <label for="text-input-block3" class="form-text">Year</label>
                            <input class="au-text-input au-text-input--block" name="text-input-block" placeholder="YYYY" id="text-input-block3" type="text" value="">
                        </div>
                        <br style="clear:both;" />
                    </div>
                    <br />
                    <br />
                    <br style="clear:both;" /> &nbsp;

                    <br />
                    <br />

                    <label for="select-state">State or territory</label>
                    <select id="select-state" class="au-select au-select--block">
                        <option value="0">Please select</option>
                        <option value="act">Australian Capital Territory</option>
                        <option value="nsw">New South Wales</option>
                        <option value="nt">Northern Territory</option>
                        <option value="sa" >South Australia</option>
                        <option value="tas">Tasmania</option>
                        <option value="qld" selected>Queensland</option>
                        <option value="wa">Western Australia</option>
                        <option value="vic">Victoria</option>
                    </select>

                    <br />
                    <br />
                    <br />

                    <!-- QLD -->

                    <div id="input-qld" class="input-state">

                        <p class="au-callout">Queensland birth certificates from 1st January 1941 can be verified online. If you have an older document, please choose another type of identification.
                            <br />
                            <br /> You can verify your birth certificate with either the Date of Registration or Certificate Number below.
                        </p>

                        <br />

                         <div class="panel active">
                            <label class="au-control-input">
                                <input class="au-control-input__input" type="radio" name="r-qld-dvs" id="r-qld-registration-date" value="registration-date" checked>
                                <span class="au-control-input__text"> Date of Registration</span>
                            </label>

                            <div class="form-sub-input">

                                <div class="form-text">Please enter your Date of Registration below in numeric format; for example 14 02 1980.

                                    <div class="form-section date-entry" style="margin-top:0.75em;padding-top:0;">
                                        <div class="date date-day">
                                            <label for="r-qld-registration-date-dd" class="form-text">Day</label>
                                            <input class="au-text-input au-text-input--block" name="text-input-block" placeholder="DD" id="r-qld-registration-date-dd" type="text" value="">
                                        </div>
                                        <div class="date date-month">
                                            <label for="r-qld-reg-date-mm" class="form-text">Month</label>
                                            <input class="au-text-input au-text-input--block" name="text-input-block" placeholder="MM" id="r-qld-registration-date-mm" type="text" value="">
                                        </div>
                                        <div class="date date-year">
                                            <label for="r-qld-reg-date-yyyy" class="form-text">Year</label>
                                            <input class="au-text-input au-text-input--block" name="text-input-block" placeholder="YYYY" id="r-qld-registration-date-yyyy" type="text" value="">
                                        </div>
                                    </div>
                                </div>
                            </div>
							 </div>
                            <br style="clear:both;" />
                            <br style="clear:both;" />
                            <br style="clear:both;" />

                            <div class="panel">
                                <label class="au-control-input">
                                    <input class="au-control-input__input" type="radio" name="r-qld-dvs" id="r-qld-certificate-number" value="certificate-number">
                                    <span class="au-control-input__text"> Certificate Number</span>
                                </label>

                                <div class="form-sub-input">
                        <div class="form-text">Please enter your Certificate Number exactly as it appears on your birth certificate. If present, certificate numbers are printed at the very bottom of birth certificates under the seal.

                                    </div>
                                    <input class="au-text-input au-text-input--block" name="registration-number-input" id="r-qld-certificate-number-input" type="text" value="">
                                    <br>

                                </div>
                            </div>

                        </div>
                   

                    <!--SA-->

                    <div id="input-sa" class="input-state">

                        <p class="au-callout">South Australian birth certificates from 1st January 1944 can be verified online. If you have an older document, please choose another type of identification.
                        </p>

                        <br />
						
						<p><strong>Select either Registration Number or Certificate Number below</strong></p>
						<br />

                        <div class="panel active">
                            <label class="au-control-input">
                                <input class="au-control-input__input" type="radio" name="r-sa-dvs" id="r-sa-registration-number" value="registration-number" checked>
                                <span class="au-control-input__text"> Registration Number</span>
                            </label>

                            <div class="form-sub-input">
                                <div class="form-text">
                                    Please enter your Registration Number exactly as it appears on your birth certificate. This number can be different lengths but should appear near the Registrar's Signature.

                                </div>
                                <input class="au-text-input au-text-input--block" name="registration-number-input" id="r-sa-registration-number-input" type="text" value="">
                                <br>

                            </div>
                        </div>
                        <br style="clear:both;" />
						

                        <div class="panel">
                            <label class="au-control-input">
                                <input class="au-control-input__input" type="radio" name="r-sa-dvs" id="r-sa-certificate-number" value="certificate-number">
                                <span class="au-control-input__text"> Certificate Number</span>
                            </label>

                            <div class="form-sub-input">
                                <div class="form-text">Please enter your Certificate Number exactly as it appears on your birth certificate. Certificate numbers are printed at the bottom of birth certificates.

                                </div>
                                <input class="au-text-input au-text-input--block" name="registration-number-input" id="r-sa-certificate-number-input" type="text" value="">
                                <br>

                            </div>
                        </div>

                    </div>
               
           

            <!--ACT-->

            <div id="input-act" class="input-state">

                <p class="au-callout">ACT birth certificates from 1st January 1930 can be verified online. If you have an older document, please choose another type of identification.
                    <br />
                    <br /> You can verify your birth certificate with either the Registration Number or Certificate Number.
                </p>

                <br />

                 <div class="panel active">
                    <label class="au-control-input">
                        <input class="au-control-input__input" type="radio" name="r-act-dvs" id="r-act-registration-number" value="registration-number" checked>
                        <span class="au-control-input__text"> Registration Number</span>
                    </label>

                    <div class="form-sub-input">
                        <div class="form-text">
                            Please enter your Registration Number exactly as it appears on your birth certificate. 
                        </div>
                        <input class="au-text-input au-text-input--block" name="registration-number-input" id="r-act-registration-number-input" type="text" value="">
                        <br>

                    </div>
                </div>
                <br style="clear:both;" />

                <div class="panel">
                    <label class="au-control-input">
                        <input class="au-control-input__input" type="radio" name="r-act-dvs" id="r-act-certificate-number" value="certificate-number">
                        <span class="au-control-input__text"> Certificate Number</span>
                    </label>

                    <div class="form-sub-input">
                        <div class="form-text">Please enter your Certificate Number exactly as it appears on your birth certificate. If present, certificate numbers are printed at the very bottom of birth certificates under the ACT seal.

                        </div>
                        <input class="au-text-input au-text-input--block" name="registration-number-input" id="r-act-certificate-number-input" type="text" value="">
                        <br>

                    </div>
                </div>

            </div>
 </div>
            <br />
            <br style="clear:both" />

				<br /><br />
            <a href="#" id="validate" class="au-btn au-btn--primary">Next</a>

            <br />
            <br />
            
            <br /> Correct string for DVS:
            <br />
            <textarea id="output" style="width:400px;height:100px;font-family:monospace;"></textarea>

            <hr />

            <a href="saved.html" class="au-btn au-btn--secondary">
  Save and exit
</a>&nbsp; to continue this application later

            </form>

        </div>

        </div>
        </div>

        <div class="footer">
            <div class="footer-wrapper">
                <iframe src="../footer.html" frameborder="0" border="0" scrolling="no"></iframe>
            </div>
        </div>

    </main>

    <script>
        var state;
        state = $("#select-state option:selected").val();

        if (state != 0) {

            $(".input-state").css("display", "none");
            var showState = "#input-" + state;
            $(showState).css("display", "block");
            $("#validate").css("display", "inline");

        }

        $('#select-state').bind("change", function() {

            state = $("#select-state option:selected").val();
            $(".input-state").css("display", "none");

            var showState = "#input-" + state;
            $(showState).css("display", "block");
            $("#validate").css("display", "inline");

        });

		
		$('.panel input').bind("click", function() {
			
			var inputStateActive = "#input-"+state+" .panel.active";
			
		
			
			$(inputStateActive).attr("class","panel");
			
			var parentPanel = $(this.parentNode.parentNode);
			if(parentPanel.attr("class")!="panel"){
				parentPanel = $(this.parentNode.parentNode.parentNode.parentNode.parentNode);
			}
			
			parentPanel.addClass("active");
			
			var inputStateActiveRadio = "#input-"+state+" .panel.active input[type=radio]";
			
			$(inputStateActiveRadio).prop("checked","checked");

			
			
		});
		
		
        $('#validate').bind("click", function() {

            var given_names = $("#given-name-input").val();
            var family_name = $("#family-name-input").val();
            var registration_number = "";
            var registration_date = "";
            var registration_year = "";
            var certificate_number = "";

            var dob = $("#text-input-block1").val() + "/" + $("#text-input-block2").val() + "/" + $("#text-input-block3").val();

            var output = "";

            if (state == "act") {
                // hey I'm a territory!

                if ($("input:radio[name='r-act-dvs']:checked").val() == "registration-number") {

                    registration_number = $("#r-act-registration-number-input").val();

                } else {
					
                    certificate_number = $("#r-act-certificate-number-input").val();

                }

            }

            if (state == "sa") {

                if ($("input:radio[name='r-sa-dvs']:checked").val() == "registration-number") {

                    registration_number = $("#r-sa-registration-number-input").val();

                } else {

                    certificate_number = $("#r-sa-certificate-number-input").val();

                }

            }

            if (state == "qld") {

                if ($("input:radio[name='r-qld-dvs']:checked").val() == "registration-date") {

                    // registration date

                    var monthValue = $("#r-qld-registration-date-mm").val();
                    var yearValue = $("#r-qld-registration-date-yyyy").val();
                    var dateValue = $("#r-qld-registration-date-dd").val();

                    //alert(dateValue);

                    //alert( moment([yearValue, monthValue - 1, dateValue, 00, 00, 00, 00]));

                    registration_date = $("#r-qld-registration-date-yyyy").val() + "-" + $("#r-qld-registration-date-mm").val() + "-" + $("#r-qld-registration-date-dd").val();

                } else {

                    // registration number
                    // qld writes "registration number"	on certificates, but asks for CertificateNumber in DVS ¯\_(ツ)_/¯ 

                    certificate_number = $("#r-qld-certificate-number-input").val();

                }

                /*
                #r-qld-reg-date-dd
                r-qld-reg-date-mm
                r-qld-reg-date-yyyy
                r-qld-registration-number-input
                */

            } else if (state == "WA") {

                var slash = DVS.indexOf("/");

                var district = DVS.substring(0, slash);
                var number = DVS.substring(slash + 1, DVS.length);
                number = number.substring(0, number.indexOf("/"));

                // append to have extra 0 if needed
                if (district.length == 1) {

                    district = "0" + district;
                }

                if (number.length < 6) {

                    var increaseBy = 5 - number.length;

                    while (increaseBy--) {

                        number = "0" + number;

                    }

                }

            }

            output = "GivenName|" + given_names + ";FamilyName|" + family_name + ";RegistrationNumber|" + registration_number + ";RegistrationDate|" + registration_date + ";RegistrationState|" + state.toUpperCase() + ";RegistrationYear|" + registration_year + ";DatePrinted|;CertificateNumber|" + certificate_number + ";DateOfBirth|" + dob;
            $("#output").html(output);

            return false;

        });
    </script>

</body>

</html>